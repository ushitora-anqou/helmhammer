[
  {
    "apiVersion": "scheduling.k8s.io/v1",
    "kind": "PriorityClass",
    "metadata": {
      "name": "topolvm"
    },
    "value": 1000000,
    "globalDefault": false,
    "description": "Pods using TopoLVM volumes should use this class."
  },
  {
    "apiVersion": "policy/v1",
    "kind": "PodDisruptionBudget",
    "metadata": {
      "name": "topolvm-controller",
      "namespace": "default"
    },
    "spec": {
      "maxUnavailable": 1,
      "selector": {
        "matchLabels": {
          "app.kubernetes.io/component": "controller",
          "app.kubernetes.io/name": "topolvm",
          "app.kubernetes.io/instance": "topolvm"
        }
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "ServiceAccount",
    "metadata": {
      "name": "topolvm-controller",
      "namespace": "default",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "ServiceAccount",
    "metadata": {
      "name": "topolvm-lvmd",
      "namespace": "default",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "ServiceAccount",
    "metadata": {
      "name": "topolvm-node",
      "namespace": "default",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "ConfigMap",
    "metadata": {
      "name": "topolvm-lvmd-0",
      "namespace": "default",
      "labels": {
        "idx": "0",
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "data": {
      "lvmd.yaml": "socket-name: /run/topolvm/lvmd.sock\ndevice-classes: \n  - default: true\n    name: ssd\n    spare-gb: 10\n    volume-group: myvg1\n"
    }
  },
  {
    "apiVersion": "storage.k8s.io/v1",
    "kind": "StorageClass",
    "metadata": {
      "name": "topolvm-provisioner",
      "annotations": null,
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "provisioner": "topolvm.io",
    "parameters": {
      "csi.storage.k8s.io/fstype": "xfs"
    },
    "volumeBindingMode": "WaitForFirstConsumer",
    "allowVolumeExpansion": true
  },
  {
    "apiVersion": "apiextensions.k8s.io/v1",
    "kind": "CustomResourceDefinition",
    "metadata": {
      "annotations": {
        "controller-gen.kubebuilder.io/version": "v0.17.2"
      },
      "name": "logicalvolumes.topolvm.io"
    },
    "spec": {
      "group": "topolvm.io",
      "names": {
        "kind": "LogicalVolume",
        "listKind": "LogicalVolumeList",
        "plural": "logicalvolumes",
        "singular": "logicalvolume"
      },
      "scope": "Cluster",
      "versions": [
        {
          "name": "v1",
          "schema": {
            "openAPIV3Schema": {
              "description": "LogicalVolume is the Schema for the logicalvolumes API",
              "properties": {
                "apiVersion": {
                  "description": "APIVersion defines the versioned schema of this representation of an object.\nServers should convert recognized schemas to the latest internal value, and\nmay reject unrecognized values.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
                  "type": "string"
                },
                "kind": {
                  "description": "Kind is a string value representing the REST resource this object represents.\nServers may infer this from the endpoint the client submits requests to.\nCannot be updated.\nIn CamelCase.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
                  "type": "string"
                },
                "metadata": {
                  "type": "object"
                },
                "spec": {
                  "description": "LogicalVolumeSpec defines the desired state of LogicalVolume",
                  "properties": {
                    "accessType": {
                      "description": "'accessType' specifies how the user intends to consume the snapshot logical volume.\nSet to \"ro\" when creating a snapshot and to \"rw\" when restoring a snapshot or creating a clone.\nThis field is populated only when LogicalVolume has a source.",
                      "type": "string"
                    },
                    "deviceClass": {
                      "type": "string"
                    },
                    "lvcreateOptionClass": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "nodeName": {
                      "type": "string"
                    },
                    "size": {
                      "anyOf": [
                        {
                          "type": "integer"
                        },
                        {
                          "type": "string"
                        }
                      ],
                      "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                      "x-kubernetes-int-or-string": true
                    },
                    "source": {
                      "description": "'source' specifies the logicalvolume name of the source; if present.\nThis field is populated only when LogicalVolume has a source.",
                      "type": "string"
                    }
                  },
                  "required": [
                    "name",
                    "nodeName",
                    "size"
                  ],
                  "type": "object"
                },
                "status": {
                  "description": "LogicalVolumeStatus defines the observed state of LogicalVolume",
                  "properties": {
                    "code": {
                      "description": "A Code is a status code defined according to the [gRPC documentation].\n\nOnly the codes defined as consts in this package are valid codes. Do not use\nother code values.  Behavior of other codes is implementation-specific and\ninteroperability between implementations is not guaranteed.\n\n[gRPC documentation]: https://github.com/grpc/grpc/blob/master/doc/statuscodes.md",
                      "format": "int32",
                      "type": "integer"
                    },
                    "currentSize": {
                      "anyOf": [
                        {
                          "type": "integer"
                        },
                        {
                          "type": "string"
                        }
                      ],
                      "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                      "x-kubernetes-int-or-string": true
                    },
                    "message": {
                      "type": "string"
                    },
                    "volumeID": {
                      "description": "INSERT ADDITIONAL STATUS FIELD - define observed state of cluster\nImportant: Run \"make\" to regenerate code after modifying this file",
                      "type": "string"
                    }
                  },
                  "type": "object"
                }
              },
              "type": "object"
            }
          },
          "served": true,
          "storage": true,
          "subresources": {
            "status": {}
          }
        }
      ]
    }
  },
  {
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "kind": "ClusterRole",
    "metadata": {
      "name": "default:controller",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "rules": [
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "nodes"
        ],
        "verbs": [
          "get",
          "list",
          "patch",
          "update",
          "watch"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "persistentvolumeclaims",
          "pods"
        ],
        "verbs": [
          "delete",
          "get",
          "list",
          "update",
          "watch"
        ]
      },
      {
        "apiGroups": [
          "storage.k8s.io"
        ],
        "resources": [
          "csidrivers",
          "storageclasses"
        ],
        "verbs": [
          "get",
          "list",
          "watch"
        ]
      },
      {
        "apiGroups": [
          "topolvm.io"
        ],
        "resources": [
          "logicalvolumes"
        ],
        "verbs": [
          "create",
          "delete",
          "get",
          "list",
          "patch",
          "update",
          "watch"
        ]
      },
      {
        "apiGroups": [
          "topolvm.io"
        ],
        "resources": [
          "logicalvolumes/status"
        ],
        "verbs": [
          "get",
          "patch",
          "update"
        ]
      }
    ]
  },
  {
    "kind": "ClusterRole",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "default-external-provisioner-runner",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "rules": [
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "persistentvolumes"
        ],
        "verbs": [
          "get",
          "list",
          "watch",
          "create",
          "patch",
          "delete"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "persistentvolumeclaims"
        ],
        "verbs": [
          "get",
          "list",
          "watch",
          "update"
        ]
      },
      {
        "apiGroups": [
          "storage.k8s.io"
        ],
        "resources": [
          "storageclasses"
        ],
        "verbs": [
          "get",
          "list",
          "watch"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "events"
        ],
        "verbs": [
          "list",
          "watch",
          "create",
          "update",
          "patch"
        ]
      },
      {
        "apiGroups": [
          "snapshot.storage.k8s.io"
        ],
        "resources": [
          "volumesnapshots"
        ],
        "verbs": [
          "get",
          "list"
        ]
      },
      {
        "apiGroups": [
          "snapshot.storage.k8s.io"
        ],
        "resources": [
          "volumesnapshotcontents"
        ],
        "verbs": [
          "get",
          "list"
        ]
      },
      {
        "apiGroups": [
          "storage.k8s.io"
        ],
        "resources": [
          "csinodes"
        ],
        "verbs": [
          "get",
          "list",
          "watch"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "nodes"
        ],
        "verbs": [
          "get",
          "list",
          "watch"
        ]
      },
      {
        "apiGroups": [
          "storage.k8s.io"
        ],
        "resources": [
          "volumeattachments"
        ],
        "verbs": [
          "get",
          "list",
          "watch"
        ]
      }
    ]
  },
  {
    "kind": "ClusterRole",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "default-external-resizer-runner",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "rules": [
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "persistentvolumes"
        ],
        "verbs": [
          "get",
          "list",
          "watch",
          "patch"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "persistentvolumeclaims"
        ],
        "verbs": [
          "get",
          "list",
          "watch"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "pods"
        ],
        "verbs": [
          "get",
          "list",
          "watch"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "persistentvolumeclaims/status"
        ],
        "verbs": [
          "patch"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "events"
        ],
        "verbs": [
          "list",
          "watch",
          "create",
          "update",
          "patch"
        ]
      },
      {
        "apiGroups": [
          "storage.k8s.io"
        ],
        "resources": [
          "volumeattributesclasses"
        ],
        "verbs": [
          "get",
          "list",
          "watch"
        ]
      }
    ]
  },
  {
    "kind": "ClusterRole",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "default-external-snapshotter-runner",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "rules": [
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "events"
        ],
        "verbs": [
          "list",
          "watch",
          "create",
          "update",
          "patch"
        ]
      },
      {
        "apiGroups": [
          "snapshot.storage.k8s.io"
        ],
        "resources": [
          "volumesnapshotclasses"
        ],
        "verbs": [
          "get",
          "list",
          "watch"
        ]
      },
      {
        "apiGroups": [
          "snapshot.storage.k8s.io"
        ],
        "resources": [
          "volumesnapshotcontents"
        ],
        "verbs": [
          "get",
          "list",
          "watch",
          "update",
          "patch"
        ]
      },
      {
        "apiGroups": [
          "snapshot.storage.k8s.io"
        ],
        "resources": [
          "volumesnapshotcontents/status"
        ],
        "verbs": [
          "update",
          "patch"
        ]
      },
      {
        "apiGroups": [
          "groupsnapshot.storage.k8s.io"
        ],
        "resources": [
          "volumegroupsnapshotclasses"
        ],
        "verbs": [
          "get",
          "list",
          "watch"
        ]
      },
      {
        "apiGroups": [
          "groupsnapshot.storage.k8s.io"
        ],
        "resources": [
          "volumegroupsnapshotcontents"
        ],
        "verbs": [
          "get",
          "list",
          "watch",
          "update",
          "patch"
        ]
      },
      {
        "apiGroups": [
          "groupsnapshot.storage.k8s.io"
        ],
        "resources": [
          "volumegroupsnapshotcontents/status"
        ],
        "verbs": [
          "update",
          "patch"
        ]
      }
    ]
  },
  {
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "kind": "ClusterRole",
    "metadata": {
      "name": "default:node",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "rules": [
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "nodes"
        ],
        "verbs": [
          "get",
          "list",
          "watch",
          "update",
          "patch"
        ]
      },
      {
        "apiGroups": [
          "topolvm.io"
        ],
        "resources": [
          "logicalvolumes",
          "logicalvolumes/status"
        ],
        "verbs": [
          "get",
          "list",
          "watch",
          "create",
          "update",
          "delete",
          "patch"
        ]
      },
      {
        "apiGroups": [
          "storage.k8s.io"
        ],
        "resources": [
          "csidrivers"
        ],
        "verbs": [
          "get",
          "list",
          "watch"
        ]
      }
    ]
  },
  {
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "kind": "ClusterRoleBinding",
    "metadata": {
      "name": "default:controller",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "subjects": [
      {
        "kind": "ServiceAccount",
        "namespace": "default",
        "name": "topolvm-controller"
      }
    ],
    "roleRef": {
      "apiGroup": "rbac.authorization.k8s.io",
      "kind": "ClusterRole",
      "name": "default:controller"
    }
  },
  {
    "kind": "ClusterRoleBinding",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "default-csi-provisioner-role",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "subjects": [
      {
        "kind": "ServiceAccount",
        "namespace": "default",
        "name": "topolvm-controller"
      }
    ],
    "roleRef": {
      "kind": "ClusterRole",
      "name": "default-external-provisioner-runner",
      "apiGroup": "rbac.authorization.k8s.io"
    }
  },
  {
    "kind": "ClusterRoleBinding",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "default-csi-resizer-role",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "subjects": [
      {
        "kind": "ServiceAccount",
        "namespace": "default",
        "name": "topolvm-controller"
      }
    ],
    "roleRef": {
      "kind": "ClusterRole",
      "name": "default-external-resizer-runner",
      "apiGroup": "rbac.authorization.k8s.io"
    }
  },
  {
    "kind": "ClusterRoleBinding",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "default-csi-snapshotter-role",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "subjects": [
      {
        "kind": "ServiceAccount",
        "namespace": "default",
        "name": "topolvm-controller"
      }
    ],
    "roleRef": {
      "kind": "ClusterRole",
      "name": "default-external-snapshotter-runner",
      "apiGroup": "rbac.authorization.k8s.io"
    }
  },
  {
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "kind": "ClusterRoleBinding",
    "metadata": {
      "name": "default:node",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "subjects": [
      {
        "kind": "ServiceAccount",
        "name": "topolvm-node",
        "namespace": "default"
      }
    ],
    "roleRef": {
      "apiGroup": "rbac.authorization.k8s.io",
      "kind": "ClusterRole",
      "name": "default:node"
    }
  },
  {
    "kind": "Role",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "leader-election",
      "namespace": "default",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "rules": [
      {
        "apiGroups": [
          "",
          "coordination.k8s.io"
        ],
        "resources": [
          "configmaps",
          "leases"
        ],
        "verbs": [
          "get",
          "list",
          "watch",
          "create",
          "update",
          "patch",
          "delete"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "events"
        ],
        "verbs": [
          "create",
          "patch"
        ]
      }
    ]
  },
  {
    "kind": "Role",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "external-provisioner-cfg",
      "namespace": "default",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "rules": [
      {
        "apiGroups": [
          "coordination.k8s.io"
        ],
        "resources": [
          "leases"
        ],
        "verbs": [
          "get",
          "watch",
          "list",
          "delete",
          "update",
          "create"
        ]
      },
      {
        "apiGroups": [
          "storage.k8s.io"
        ],
        "resources": [
          "csistoragecapacities"
        ],
        "verbs": [
          "get",
          "list",
          "watch",
          "create",
          "update",
          "patch",
          "delete"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "pods"
        ],
        "verbs": [
          "get"
        ]
      },
      {
        "apiGroups": [
          "apps"
        ],
        "resources": [
          "replicasets"
        ],
        "verbs": [
          "get"
        ]
      }
    ]
  },
  {
    "kind": "Role",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "external-resizer-cfg",
      "namespace": "default",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "rules": [
      {
        "apiGroups": [
          "coordination.k8s.io"
        ],
        "resources": [
          "leases"
        ],
        "verbs": [
          "get",
          "watch",
          "list",
          "delete",
          "update",
          "create"
        ]
      }
    ]
  },
  {
    "kind": "Role",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "external-snapshotter-leaderelection",
      "namespace": "default",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "rules": [
      {
        "apiGroups": [
          "coordination.k8s.io"
        ],
        "resources": [
          "leases"
        ],
        "verbs": [
          "get",
          "watch",
          "list",
          "delete",
          "update",
          "create"
        ]
      }
    ]
  },
  {
    "kind": "RoleBinding",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "leader-election",
      "namespace": "default",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "subjects": [
      {
        "kind": "ServiceAccount",
        "namespace": "default",
        "name": "topolvm-controller"
      }
    ],
    "roleRef": {
      "kind": "Role",
      "name": "leader-election",
      "apiGroup": "rbac.authorization.k8s.io"
    }
  },
  {
    "kind": "RoleBinding",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "csi-provisioner-role-cfg",
      "namespace": "default",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "subjects": [
      {
        "kind": "ServiceAccount",
        "namespace": "default",
        "name": "topolvm-controller"
      }
    ],
    "roleRef": {
      "kind": "Role",
      "name": "external-provisioner-cfg",
      "apiGroup": "rbac.authorization.k8s.io"
    }
  },
  {
    "kind": "RoleBinding",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "csi-resizer-role-cfg",
      "namespace": "default",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "subjects": [
      {
        "kind": "ServiceAccount",
        "name": "topolvm-controller",
        "namespace": "default"
      }
    ],
    "roleRef": {
      "kind": "Role",
      "name": "external-resizer-cfg",
      "apiGroup": "rbac.authorization.k8s.io"
    }
  },
  {
    "kind": "RoleBinding",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "external-snapshotter-leaderelection",
      "namespace": "default",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "subjects": [
      {
        "kind": "ServiceAccount",
        "name": "topolvm-controller",
        "namespace": "default"
      }
    ],
    "roleRef": {
      "kind": "Role",
      "name": "external-snapshotter-leaderelection",
      "apiGroup": "rbac.authorization.k8s.io"
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Service",
    "metadata": {
      "name": "topolvm-controller",
      "namespace": "default",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "spec": {
      "selector": {
        "app.kubernetes.io/component": "controller",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm"
      },
      "ports": [
        {
          "name": "webhook",
          "port": 443,
          "protocol": "TCP",
          "targetPort": "webhook"
        }
      ]
    }
  },
  {
    "apiVersion": "apps/v1",
    "kind": "DaemonSet",
    "metadata": {
      "name": "topolvm-lvmd-0",
      "namespace": "default",
      "labels": {
        "idx": "0",
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "spec": {
      "selector": {
        "matchLabels": {
          "idx": "0",
          "app.kubernetes.io/component": "lvmd",
          "app.kubernetes.io/name": "topolvm",
          "app.kubernetes.io/instance": "topolvm"
        }
      },
      "template": {
        "metadata": {
          "labels": {
            "idx": "0",
            "app.kubernetes.io/component": "lvmd",
            "app.kubernetes.io/name": "topolvm",
            "app.kubernetes.io/instance": "topolvm"
          },
          "annotations": {
            "checksum/config": "d757c50d33c857aa468610d1349823a2046cf2a4fd687c4ea9561c92e9245b66",
            "prometheus.io/port": "metrics"
          }
        },
        "spec": {
          "serviceAccountName": "topolvm-lvmd",
          "hostPID": true,
          "containers": [
            {
              "name": "lvmd",
              "image": "ghcr.io/topolvm/topolvm-with-sidecar:0.36.4",
              "securityContext": {
                "privileged": true
              },
              "command": [
                "/lvmd"
              ],
              "livenessProbe": {
                "exec": {
                  "command": [
                    "/lvmd",
                    "health"
                  ]
                },
                "initialDelaySeconds": 10,
                "timeoutSeconds": 3,
                "periodSeconds": 60
              },
              "ports": [
                {
                  "name": "metrics",
                  "containerPort": 8080,
                  "protocol": "TCP"
                }
              ],
              "volumeMounts": [
                {
                  "name": "devices-dir",
                  "mountPath": "/dev"
                },
                {
                  "name": "config",
                  "mountPath": "/etc/topolvm"
                },
                {
                  "name": "lvmd-socket-dir",
                  "mountPath": "/run/topolvm"
                }
              ]
            }
          ],
          "volumes": [
            {
              "name": "devices-dir",
              "hostPath": {
                "path": "/dev",
                "type": "Directory"
              }
            },
            {
              "name": "config",
              "configMap": {
                "name": "topolvm-lvmd-0"
              }
            },
            {
              "name": "lvmd-socket-dir",
              "hostPath": {
                "path": "/run/topolvm",
                "type": "DirectoryOrCreate"
              }
            }
          ]
        }
      }
    }
  },
  {
    "apiVersion": "apps/v1",
    "kind": "DaemonSet",
    "metadata": {
      "name": "topolvm-node",
      "namespace": "default",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "spec": {
      "selector": {
        "matchLabels": {
          "app.kubernetes.io/component": "node",
          "app.kubernetes.io/name": "topolvm",
          "app.kubernetes.io/instance": "topolvm"
        }
      },
      "template": {
        "metadata": {
          "labels": {
            "app.kubernetes.io/component": "node",
            "app.kubernetes.io/name": "topolvm",
            "app.kubernetes.io/instance": "topolvm"
          },
          "annotations": {
            "prometheus.io/port": "metrics"
          }
        },
        "spec": {
          "serviceAccountName": "topolvm-node",
          "containers": [
            {
              "name": "topolvm-node",
              "image": "ghcr.io/topolvm/topolvm-with-sidecar:0.36.4",
              "securityContext": {
                "privileged": true
              },
              "command": [
                "/topolvm-node",
                "--csi-socket=/var/lib/kubelet/plugins/topolvm.io/node/csi-topolvm.sock",
                "--lvmd-socket=/run/topolvm/lvmd.sock"
              ],
              "ports": [
                {
                  "name": "healthz",
                  "containerPort": 9808,
                  "protocol": "TCP"
                },
                {
                  "name": "metrics",
                  "containerPort": 8080,
                  "protocol": "TCP"
                }
              ],
              "livenessProbe": {
                "httpGet": {
                  "path": "/healthz",
                  "port": "healthz"
                },
                "initialDelaySeconds": 10,
                "timeoutSeconds": 3,
                "periodSeconds": 60
              },
              "env": [
                {
                  "name": "NODE_NAME",
                  "valueFrom": {
                    "fieldRef": {
                      "fieldPath": "spec.nodeName"
                    }
                  }
                }
              ],
              "volumeMounts": [
                {
                  "name": "node-plugin-dir",
                  "mountPath": "/var/lib/kubelet/plugins/topolvm.io/node/"
                },
                {
                  "name": "lvmd-socket-dir",
                  "mountPath": "/run/topolvm"
                },
                {
                  "name": "pod-volumes-dir",
                  "mountPath": "/var/lib/kubelet/pods",
                  "mountPropagation": "Bidirectional"
                },
                {
                  "name": "csi-plugin-dir",
                  "mountPath": "/var/lib/kubelet/plugins/kubernetes.io/csi",
                  "mountPropagation": "Bidirectional"
                },
                {
                  "name": "devices-dir",
                  "mountPath": "/dev"
                }
              ]
            },
            {
              "name": "csi-registrar",
              "image": "ghcr.io/topolvm/topolvm-with-sidecar:0.36.4",
              "command": [
                "/csi-node-driver-registrar",
                "--csi-address=/var/lib/kubelet/plugins/topolvm.io/node/csi-topolvm.sock",
                "--kubelet-registration-path=/var/lib/kubelet/plugins/topolvm.io/node/csi-topolvm.sock",
                "--http-endpoint=:9809"
              ],
              "ports": [
                {
                  "containerPort": 9809,
                  "name": "healthz"
                }
              ],
              "livenessProbe": {
                "httpGet": {
                  "path": "/healthz",
                  "port": "healthz"
                },
                "initialDelaySeconds": 10,
                "timeoutSeconds": 3,
                "periodSeconds": 60
              },
              "lifecycle": {
                "preStop": {
                  "exec": {
                    "command": [
                      "/bin/sh",
                      "-c",
                      "rm -rf /registration/topolvm.io /registration/topolvm.io-reg.sock"
                    ]
                  }
                }
              },
              "volumeMounts": [
                {
                  "name": "node-plugin-dir",
                  "mountPath": "/var/lib/kubelet/plugins/topolvm.io/node/"
                },
                {
                  "name": "registration-dir",
                  "mountPath": "/registration"
                }
              ]
            },
            {
              "name": "liveness-probe",
              "image": "ghcr.io/topolvm/topolvm-with-sidecar:0.36.4",
              "command": [
                "/livenessprobe",
                "--csi-address=/var/lib/kubelet/plugins/topolvm.io/node/csi-topolvm.sock",
                "--http-endpoint=:9808"
              ],
              "volumeMounts": [
                {
                  "name": "node-plugin-dir",
                  "mountPath": "/var/lib/kubelet/plugins/topolvm.io/node/"
                }
              ]
            }
          ],
          "volumes": [
            {
              "name": "devices-dir",
              "hostPath": {
                "path": "/dev",
                "type": "Directory"
              }
            },
            {
              "name": "registration-dir",
              "hostPath": {
                "path": "/var/lib/kubelet/plugins_registry/",
                "type": "Directory"
              }
            },
            {
              "name": "node-plugin-dir",
              "hostPath": {
                "path": "/var/lib/kubelet/plugins/topolvm.io/node",
                "type": "DirectoryOrCreate"
              }
            },
            {
              "name": "csi-plugin-dir",
              "hostPath": {
                "path": "/var/lib/kubelet/plugins/kubernetes.io/csi",
                "type": "DirectoryOrCreate"
              }
            },
            {
              "name": "pod-volumes-dir",
              "hostPath": {
                "path": "/var/lib/kubelet/pods/",
                "type": "DirectoryOrCreate"
              }
            },
            {
              "name": "lvmd-socket-dir",
              "hostPath": {
                "path": "/run/topolvm",
                "type": "Directory"
              }
            }
          ]
        }
      }
    }
  },
  {
    "apiVersion": "apps/v1",
    "kind": "Deployment",
    "metadata": {
      "name": "topolvm-controller",
      "namespace": "default",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "spec": {
      "replicas": 2,
      "selector": {
        "matchLabels": {
          "app.kubernetes.io/component": "controller",
          "app.kubernetes.io/name": "topolvm",
          "app.kubernetes.io/instance": "topolvm"
        }
      },
      "template": {
        "metadata": {
          "labels": {
            "app.kubernetes.io/component": "controller",
            "app.kubernetes.io/name": "topolvm",
            "app.kubernetes.io/instance": "topolvm"
          }
        },
        "spec": {
          "securityContext": {
            "runAsGroup": 10000,
            "runAsUser": 10000
          },
          "serviceAccountName": "topolvm-controller",
          "containers": [
            {
              "name": "topolvm-controller",
              "image": "ghcr.io/topolvm/topolvm-with-sidecar:0.36.4",
              "command": [
                "/topolvm-controller",
                "--leader-election-namespace=default",
                "--cert-dir=/certs"
              ],
              "ports": [
                {
                  "containerPort": 9443,
                  "name": "webhook",
                  "protocol": "TCP"
                },
                {
                  "containerPort": 9808,
                  "name": "healthz",
                  "protocol": "TCP"
                },
                {
                  "containerPort": 8081,
                  "name": "readyz",
                  "protocol": "TCP"
                },
                {
                  "containerPort": 8080,
                  "name": "metrics",
                  "protocol": "TCP"
                }
              ],
              "readinessProbe": {
                "httpGet": {
                  "path": "/readyz",
                  "port": "readyz",
                  "scheme": "HTTP"
                }
              },
              "livenessProbe": {
                "httpGet": {
                  "path": "/healthz",
                  "port": "healthz"
                },
                "initialDelaySeconds": 10,
                "timeoutSeconds": 3,
                "periodSeconds": 60
              },
              "volumeMounts": [
                {
                  "name": "socket-dir",
                  "mountPath": "/run/topolvm"
                },
                {
                  "name": "certs",
                  "mountPath": "/certs"
                }
              ]
            },
            {
              "name": "csi-provisioner",
              "image": "ghcr.io/topolvm/topolvm-with-sidecar:0.36.4",
              "command": [
                "/csi-provisioner",
                "--csi-address=/run/topolvm/csi-topolvm.sock",
                "--feature-gates=Topology=true",
                "--leader-election",
                "--leader-election-namespace=default",
                "--http-endpoint=:9809",
                "--enable-capacity",
                "--capacity-ownerref-level=2"
              ],
              "ports": [
                {
                  "containerPort": 9809,
                  "name": "csi-provisioner"
                }
              ],
              "env": [
                {
                  "name": "NAMESPACE",
                  "valueFrom": {
                    "fieldRef": {
                      "fieldPath": "metadata.namespace"
                    }
                  }
                },
                {
                  "name": "POD_NAME",
                  "valueFrom": {
                    "fieldRef": {
                      "fieldPath": "metadata.name"
                    }
                  }
                }
              ],
              "volumeMounts": [
                {
                  "name": "socket-dir",
                  "mountPath": "/run/topolvm"
                }
              ]
            },
            {
              "name": "csi-resizer",
              "image": "ghcr.io/topolvm/topolvm-with-sidecar:0.36.4",
              "command": [
                "/csi-resizer",
                "--csi-address=/run/topolvm/csi-topolvm.sock",
                "--leader-election",
                "--leader-election-namespace=default",
                "--http-endpoint=:9810"
              ],
              "ports": [
                {
                  "containerPort": 9810,
                  "name": "csi-resizer"
                }
              ],
              "volumeMounts": [
                {
                  "name": "socket-dir",
                  "mountPath": "/run/topolvm"
                }
              ]
            },
            {
              "name": "csi-snapshotter",
              "image": "ghcr.io/topolvm/topolvm-with-sidecar:0.36.4",
              "command": [
                "/csi-snapshotter",
                "--csi-address=/run/topolvm/csi-topolvm.sock",
                "--leader-election",
                "--leader-election-namespace=default",
                "--http-endpoint=:9811"
              ],
              "ports": [
                {
                  "containerPort": 9811,
                  "name": "csi-snapshotter"
                }
              ],
              "volumeMounts": [
                {
                  "name": "socket-dir",
                  "mountPath": "/run/topolvm"
                }
              ]
            },
            {
              "name": "liveness-probe",
              "image": "ghcr.io/topolvm/topolvm-with-sidecar:0.36.4",
              "command": [
                "/livenessprobe",
                "--csi-address=/run/topolvm/csi-topolvm.sock",
                "--http-endpoint=:9808"
              ],
              "volumeMounts": [
                {
                  "name": "socket-dir",
                  "mountPath": "/run/topolvm"
                }
              ]
            }
          ],
          "volumes": [
            {
              "name": "certs",
              "secret": {
                "secretName": "topolvm-mutatingwebhook"
              }
            },
            {
              "emptyDir": {},
              "name": "socket-dir"
            }
          ],
          "affinity": {
            "podAntiAffinity": {
              "requiredDuringSchedulingIgnoredDuringExecution": [
                {
                  "labelSelector": {
                    "matchExpressions": [
                      {
                        "key": "app.kubernetes.io/component",
                        "operator": "In",
                        "values": [
                          "controller"
                        ]
                      },
                      {
                        "key": "app.kubernetes.io/name",
                        "operator": "In",
                        "values": [
                          "topolvm"
                        ]
                      }
                    ]
                  },
                  "topologyKey": "kubernetes.io/hostname"
                }
              ]
            }
          }
        }
      }
    }
  },
  {
    "apiVersion": "storage.k8s.io/v1",
    "kind": "CSIDriver",
    "metadata": {
      "name": "topolvm.io",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "spec": {
      "storageCapacity": true,
      "attachRequired": false,
      "podInfoOnMount": true,
      "volumeLifecycleModes": [
        "Persistent"
      ]
    }
  },
  {
    "apiVersion": "cert-manager.io/v1",
    "kind": "Certificate",
    "metadata": {
      "name": "topolvm-webhook-ca",
      "namespace": "default",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "spec": {
      "secretName": "topolvm-webhook-ca",
      "duration": "87600h",
      "issuerRef": {
        "group": "cert-manager.io",
        "kind": "Issuer",
        "name": "topolvm-webhook-selfsign"
      },
      "commonName": "ca.webhook.topolvm",
      "isCA": true,
      "usages": [
        "digital signature",
        "key encipherment",
        "cert sign"
      ]
    }
  },
  {
    "apiVersion": "cert-manager.io/v1",
    "kind": "Certificate",
    "metadata": {
      "name": "topolvm-mutatingwebhook",
      "namespace": "default",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "spec": {
      "secretName": "topolvm-mutatingwebhook",
      "duration": "8760h",
      "issuerRef": {
        "group": "cert-manager.io",
        "kind": "Issuer",
        "name": "topolvm-webhook-ca"
      },
      "dnsNames": [
        "topolvm-controller",
        "topolvm-controller.default",
        "topolvm-controller.default.svc"
      ],
      "usages": [
        "digital signature",
        "key encipherment",
        "server auth",
        "client auth"
      ]
    }
  },
  {
    "apiVersion": "cert-manager.io/v1",
    "kind": "Issuer",
    "metadata": {
      "name": "topolvm-webhook-selfsign",
      "namespace": "default",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "spec": {
      "selfSigned": {}
    }
  },
  {
    "apiVersion": "cert-manager.io/v1",
    "kind": "Issuer",
    "metadata": {
      "name": "topolvm-webhook-ca",
      "namespace": "default",
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "spec": {
      "ca": {
        "secretName": "topolvm-webhook-ca"
      }
    }
  },
  {
    "apiVersion": "admissionregistration.k8s.io/v1",
    "kind": "MutatingWebhookConfiguration",
    "metadata": {
      "name": "topolvm-hook",
      "annotations": {
        "cert-manager.io/inject-ca-from": "default/topolvm-mutatingwebhook"
      },
      "labels": {
        "helm.sh/chart": "topolvm-15.5.4",
        "app.kubernetes.io/name": "topolvm",
        "app.kubernetes.io/instance": "topolvm",
        "app.kubernetes.io/version": "0.36.4",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "webhooks": [
      {
        "name": "pvc-hook.topolvm.io",
        "admissionReviewVersions": [
          "v1",
          "v1beta1"
        ],
        "namespaceSelector": {
          "matchExpressions": [
            {
              "key": "topolvm.io/webhook",
              "operator": "NotIn",
              "values": [
                "ignore"
              ]
            }
          ]
        },
        "failurePolicy": "Fail",
        "matchPolicy": "Equivalent",
        "clientConfig": {
          "service": {
            "namespace": "default",
            "name": "topolvm-controller",
            "path": "/pvc/mutate"
          }
        },
        "rules": [
          {
            "apiGroups": [
              ""
            ],
            "apiVersions": [
              "v1"
            ],
            "operations": [
              "CREATE"
            ],
            "resources": [
              "persistentvolumeclaims"
            ]
          }
        ],
        "sideEffects": "None"
      }
    ]
  }
]
